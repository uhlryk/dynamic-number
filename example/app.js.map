{"version":3,"sources":["webpack:///webpack/bootstrap 57135404f791bf6c86a9","webpack:///./example/src.js","webpack:///./src/index.js","webpack:///./src/dynamicNumber.js"],"names":["window","dynamicNumberExample","inputElement","outputElement","options","state","viewValue","modelValue","dynamicNumber","separator","integer","fraction","positive","negative","thousand","calculate","value","removeEventListener","listener","textContent","addEventListener","ev","DynamicNumber","_separator","_integer","_fraction","_positive","_negative","_regexp","_buildRegexp","_isThousand","_thousand","other","_cursor","_createViewValueFromModel","rawViewValue","oldModelValue","oldViewValue","cursorPosition","_rawViewValue","_oldModelValue","_oldViewValue","_newModelValue","_newViewValue","String","_removeThousandSeparator","_removeLeadingZero","charAt","undefined","test","_createModelValueFromView","_createViewValueFromView","_calculateNewCursorPosition","valuePartBeforeCursor","slice","currentPosition","length","countPosition","countDots","i","len","negativeRegex","intRegex","fractRegex","RegExp","replace","parseFloat","split","join","sep","_calculateThousandSeparator","part","_part","parseInt","isNaN","isFinite","isPositive","isNegative"],"mappings":"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","file":"./example/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 57135404f791bf6c86a9","import DynamicNumber from \"../src/index\";\n\nwindow.dynamicNumberExample = function (inputElement, outputElement, options) {\n  var state = {\n    viewValue: 0,\n    modelValue: 0\n  }\n  var dynamicNumber = new DynamicNumber();\n  dynamicNumber.separator = options.separator || \".\";\n  dynamicNumber.integer = options.integer = 10;\n  dynamicNumber.fraction = options.fraction = 10;\n  dynamicNumber.positive = options.positive = true;\n  dynamicNumber.negative = options.negative = true;\n  dynamicNumber.thousand = options.thousand = null;\n\n  function calculate (dynamicNumber, inputElement, outputElement, state) {\n    dynamicNumber.calculate(inputElement.value, state.modelValue, state.viewValue);\n    state.modelValue = dynamicNumber.modelValue;\n    state.viewValue = dynamicNumber.viewValue;\n    inputElement.removeEventListener(\"input\", listener);\n    outputElement.textContent = state.modelValue;\n    inputElement.value = state.viewValue;\n    inputElement.addEventListener(\"input\", listener);\n  }\n\n  function listener (ev) {\n    calculate(dynamicNumber, inputElement, outputElement, state);\n  }\n\n  dynamicNumber.calculate(inputElement.value, state.modelValue, state.viewValue);\n  state.modelValue = dynamicNumber.modelValue;\n  state.viewValue = dynamicNumber.viewValue;\n  outputElement.textContent = state.modelValue;\n  inputElement.value = state.viewValue;\n\n  inputElement.addEventListener(\"input\", listener);\n};\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./example/src.js","import DynamicNumber from './dynamicNumber';\nexport default DynamicNumber;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","class DynamicNumber {\n\n  constructor() {\n    this._separator = '.';\n    this._integer = 10;\n    this._fraction = 10;\n    this._positive = true;\n    this._negative = true;\n    this._regexp = this._buildRegexp();\n    this._isThousand = false;\n    this._thousand = null;\n  }\n\n  clone(){\n    var other = new DynamicNumber\n    other._separator = this._separator;\n    other._integer = this._integer;\n    other._fraction = this._fraction;\n    other._positive = this._positive;\n    other._negative = this._negative;\n    other._regexp = this._regexp;\n    other._isThousand = this._isThousand;\n    other._thousand = this._thousand;\n    other._cursor = this._cursor;\n\n    return other\n  }\n\n  set separator(sep) {\n    this._separator = sep === '.' || sep === ',' ? sep : this._separator;\n    this._regexp = this._buildRegexp();\n    this._calculateThousandSeparator();\n  }\n\n  set integer(part) {\n    if(part >= 0){\n      var _part = parseInt(part, 10);\n      if(isNaN(_part) === false && isFinite(_part) && _part >= 0){\n        this._integer = _part;\n      }\n    }\n    this._regexp = this._buildRegexp();\n  }\n\n  set fraction(part) {\n    if(part >= 0){\n      var _part = parseInt(part, 10);\n      if(isNaN(_part) === false && isFinite(_part) && _part >= 0){\n        this._fraction = _part;\n      }\n    }\n    this._regexp = this._buildRegexp();\n  }\n\n  set positive(isPositive) {\n    if(isPositive === true || isPositive === false) {\n      this._positive = isPositive;\n    }\n    this._regexp = this._buildRegexp();\n  }\n\n  set negative(isNegative) {\n    if(isNegative === true || isNegative === false) {\n      this._negative = isNegative;\n    }\n    this._regexp = this._buildRegexp();\n  }\n\n  set thousand(value) {\n    this._isThousand = (value || value === ' ');\n    if(value === ' ') {\n      this._thousand = ' ';\n    }\n    this._calculateThousandSeparator();\n  }\n\n  calculateViewFromModel(modelValue = 0) {\n    return this._createViewValueFromModel(modelValue);\n  }\n\n  calculate(rawViewValue = 0, oldModelValue = 0, oldViewValue = '0', cursorPosition = null) {\n    this._rawViewValue = rawViewValue;\n    this._oldModelValue = oldModelValue;\n    this._oldViewValue = oldViewValue;\n    this._newModelValue = 0;\n    this._newViewValue = '';\n    this._cursor = cursorPosition;\n\n    var value = String(this._rawViewValue);\n    value = this._removeThousandSeparator(value);\n    value = this._removeLeadingZero(value);\n    if(value === '' && String(this._rawViewValue).charAt(0)=== '0'){\n      this._newModelValue = 0;\n      this._newViewValue = '0';\n      return;\n    }\n    if(value === undefined || value === ''){\n      this._newModelValue = 0;\n      this._newViewValue = '';\n      return;\n    }\n    if(value === '-'){\n      this._newModelValue = 0;\n      this._newViewValue = '-';\n      return;\n    }\n    //test fails, therefore we use old values\n    if(this._regexp.test(value) === false){\n      this._newModelValue = this._oldModelValue;\n      this._newViewValue = this._oldViewValue;\n      return;\n    }\n     // view value success 'correct view format' test\n    else {\n      this._newModelValue = this._createModelValueFromView(value);\n      this._newViewValue = this._createViewValueFromView(value);\n      this._cursor = this._calculateNewCursorPosition();\n      return;\n    }\n  }\n\n  get modelValue() {\n    return this._newModelValue;\n  }\n\n  get viewValue() {\n    return this._newViewValue;\n  }\n\n  get cursorPosition() {\n    return this._cursor;\n  }\n  /**\n   * private function which calculate thousand separator.\n  */\n  _calculateThousandSeparator() {\n    if(this._thousand !== ' ') {\n      if(this._separator === '.') {\n        this._thousand = ',';\n      } else {\n        this._thousand = '.';\n      }\n    }\n  }\n\n  /**\n   * calculate new cursor position based on rawvalue and actual cursor position\n     */\n  _calculateNewCursorPosition() {\n    var valuePartBeforeCursor = String(this._rawViewValue).slice(0,this._cursor);\n    valuePartBeforeCursor = this._removeThousandSeparator(valuePartBeforeCursor);\n    valuePartBeforeCursor = this._removeLeadingZero(valuePartBeforeCursor);\n\n    var currentPosition = valuePartBeforeCursor.length;\n    if(this._isThousand) {\n      let countPosition = 0;\n      let countDots = 0;\n      let i;\n      let len = this._newViewValue.length;\n      for (i = 0; i < len; i++) {\n        if (this._newViewValue[i] !== this._thousand) {\n          countPosition++;\n          if (countPosition >= currentPosition){\n            break;\n          }\n        } else {\n          countDots++;\n        }\n      }\n      currentPosition += countDots;\n    }\n    return currentPosition;\n  }\n\n  _buildRegexp() {\n    var negativeRegex = '-?';\n    if(this._positive === false && this._negative === true) {\n      negativeRegex = '-';\n    } else if(this._positive === true && this._negative === false){\n      negativeRegex = '';\n    }\n\n    var intRegex = '[0-9]{0,'+(this._integer)+'}';\n    if(this._integer === 0){\n      intRegex = '0';\n    }\n    var fractRegex = '(\\\\'+this._separator+'([0-9]){0,'+this._fraction+'})';\n    if(this._fraction === 0) {\n      fractRegex = '';\n    }\n    return new RegExp('^'+negativeRegex+intRegex+fractRegex+'?$');\n  }\n\n  _removeLeadingZero(value) {\n    return value\n      .replace(/^0+/g, \"\")//change 00000 to ''\n      .replace(/^-0(\\d+)/g, \"-$1\")//change -013212 to -0\n      .replace(/^-([\\.,])/, \"-0$1\")//change -. to -0.\n      .replace(/^[\\.,]/g, \"0$&\");//change . to 0.\n  }\n\n  _removeThousandSeparator(value) {\n    if(this._isThousand) {\n      return value.replace(new RegExp('\\\\' + this._thousand ,'g'), '');\n    } else {\n      return value;\n    }\n  }\n\n  _createModelValueFromView(value) {\n    if(this._separator === ',') {\n      return parseFloat(value.replace(/\\./g,\"\").replace(\",\",\".\"));\n    } else {\n      return parseFloat(value.replace(/,/g,\"\"));\n    }\n  }\n  _createViewValueFromView(value){\n    if(this._isThousand) {\n      value = value.split(this._separator);\n      value[0] = value[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this._thousand);\n      return value.join(this._separator);\n    } else {\n      return value;\n    }\n  }\n\n  _createViewValueFromModel(modelValue){\n    var value = String(modelValue);\n    if(this._isThousand) {\n      value = value.split(\".\");\n      value[0] = value[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this._thousand);\n      return value.join(this._separator);\n    } else {\n      return value.replace(/\\./g, this._separator);\n    }\n  }\n}\n\nexport default DynamicNumber;\n\n\n\n// WEBPACK FOOTER //\n// ./src/dynamicNumber.js"],"sourceRoot":""}